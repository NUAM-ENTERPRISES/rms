<!-- FE_GUIDELINES.md -->

**Frontend Development Bible ‚Äì Affiniks RMS (React + Vite + Redux Toolkit)**

This document is a comprehensive and enforceable guide for all frontend developers and AI tools (like Cursor) working on the **Affiniks Recruitment Management System**. It outlines a production-grade, enterprise-level architecture and code strategy, comparable to what top-tier companies like **Nvidia, Apple, and Stripe** enforce in real-world projects.

---

### üß† Objective

To ensure **maintainability, scalability, security, accessibility, and performance** in a modern React + Vite application using best-in-class tools and patterns. Cursor or any developer must strictly follow this guide while generating or writing code.

---

## 1. üìÅ Folder & Architecture Principles

Use a **hybrid architecture** combining:

- **Atomic Design** for UI components
- **Feature-first architecture** for domain logic

```
/src
  /app               # App entry, redux store, providers
  /features          # Feature domains (auth, candidates, projects)
    /auth
      slice.ts
      AuthView.tsx
      LoginForm.tsx
    /candidates
      slice.ts
      CandidateForm.tsx
  /components        # Pure reusable components
    /ui              # ShadCN components extended with styling logic
    /atoms           # Label, Input, Button, etc.
    /molecules       # InputGroup, FormItem, SearchBar
    /organisms       # Full forms, lists, cards
  /pages             # Routed screens
  /services          # RTK Query API endpoints
  /hooks             # Custom hooks
  /utils             # Common reusable logic
  /constants         # Enums, static config values
  /types             # TypeScript models
  /assets            # Logos, static files
```

> All folders MUST include an `index.ts` for barrel exports.

---

## 2. ‚öõÔ∏è Component Rules (Reusable & Atomic)

- **ALWAYS** build components using **Atomic Design**:

  - `atoms`: single-purpose (Button, Input)
  - `molecules`: combinations of atoms (FormField, InputRow)
  - `organisms`: full units (CandidateCard, SidebarNav)

- Components **must**:

  - Be functional (`React.FC<Props>`)
  - Be fully typed (no `any` allowed)
  - Be reusable (no embedded feature logic)
  - Use `props` for data flow; never pull directly from Redux
  - Follow accessibility best practices (`aria-*`, keyboard navigable)

- Complex logic? Split into atomic parts or use custom hooks.

- Style using Tailwind CSS only ‚Äî no raw CSS modules or SCSS allowed and no inline styling allowed.

---

## 3. üé® Styling & UI Guidelines

- Use **Tailwind CSS** exclusively
  https://tailwindcss.com/docs/installation/using-vite doc for reference
- Follow mobile-first responsive design
- All styling decisions must be tokenized and consistent with the theme
- Class names should be concise and composed conditionally using `clsx`
- ShadCN components should be the base for:
  https://ui.shadcn.com/docs/installation/vite doc for reference
  - Buttons
  - Dialogs
  - Inputs
  - Form controls

Dark mode should be respected using class strategy (`dark` on `<html>`).

---

## 4. üîÅ State Management & RTK Query Rules

- Use **Redux Toolkit (RTK)** only
- **RTK Query** is mandatory for API integration

  - Define baseQuery with auto token refresh
  - Use tag-based cache invalidation
  - Autogenerated hooks should be namespaced per feature

Example:

```ts
const api = createApi({
  reducerPath: 'authApi',
  baseQuery: customBaseQuery,
  endpoints: (builder) => ({ login: ... })
})
```

Never use `fetch` or `axios` directly in components.

whenever writing a forms, should do all the validations necessary

---

## 5. üîê Authentication & Route Guarding

- Store JWT **access token** in memory (Redux)
- Store refresh token securely and renew via RTK middleware
- Use **PrivateRoute** wrapper to guard pages
- Prevent flash of unauthed content using route-level guards and suspense fallback

---

## 6. üåê Routing Rules

- Use **React Router v6** with nested layout routes
- Use **lazy-loaded pages** via `React.lazy()`
- Routes should be declared declaratively
- Routes should be grouped by role-based access and permissions

---

## 7. üì¶ Project Hygiene & Best Practices

- Use **ESLint + Prettier + Husky + Lint-Staged**
- File naming: **kebab-case**
- No implicit `any`; strict TypeScript only
- No magic numbers or strings ‚Äî put them in `constants.ts`
- Prefer composition over inheritance
- Prefer `tsx` for all React files
- All utility logic must be testable and moved to `/utils`

---

## 8. üß™ Testing Guidelines

- Use **Vitest** + **React Testing Library**
- Write tests for:

  - Slices
  - Form validations
  - RTK Query API logic
  - Reusable UI components (atoms, molecules)

> TDD is encouraged for core business logic.

---

## 9. üì± Accessibility & UX Standards

- Use semantic tags: `<header>`, `<main>`, `<nav>`, etc.
- All inputs must be connected to `<label>`s
- All dialogs must be keyboard accessible
- Respect prefers-reduced-motion media queries
- Use accessible alert roles for status messages

---

## 10. üöÄ Vercel Deployment Workflow

- Feature branches deploy to Vercel preview URLs
- `main` branch ‚Üí production
- `staging` branch ‚Üí staging env
- Use `.env.[env]` files for each environment
- No hardcoded API URLs

---

Hard Rules (MUST FOLLOW)
‚Ä¢ DO NOT hardcode color values ‚Äî always use theme tokens
‚Ä¢ DO NOT bypass DTOs or validators
‚Ä¢ DO NOT use custom CSS files
‚Ä¢ DO NOT fetch APIs directly ‚Äî only use RTK Query
‚Ä¢ DO NOT use inline styles

This document acts as a contract between the development team and the system architect. Every module, screen, and component must be built in alignment with these standards. **Cursor or any AI engineer must not ignore these rules under any circumstance.**

If in doubt ‚Äî defer to this document and escalate discrepancies to the lead engineer.
